<script setup>
import { ref } from "vue";
import Header from "@components/client/Header.vue";
import Footer from "@components/client/Footer.vue";

const selectedTab = ref('faq');
const showContactForm = ref(false);

const contactForm = ref({
  name: '',
  email: '',
  phone: '',
  subject: '',
  message: ''
});

const faqs = ref([
  {
    id: 1,
    question: "L√†m th·∫ø n√†o ƒë·ªÉ ƒë·∫∑t h√†ng?",
    answer: "B·∫°n c√≥ th·ªÉ ƒë·∫∑t h√†ng b·∫±ng c√°ch th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng v√† ti·∫øn h√†nh thanh to√°n. Ch√∫ng t√¥i h·ªó tr·ª£ nhi·ªÅu ph∆∞∆°ng th·ª©c thanh to√°n an to√†n.",
    isOpen: false
  },
  {
    id: 2,
    question: "Th·ªùi gian giao h√†ng l√† bao l√¢u?",
    answer: "Th·ªùi gian giao h√†ng t·ª´ 1-3 ng√†y l√†m vi·ªác t·∫°i n·ªôi th√†nh v√† 3-7 ng√†y t·∫°i c√°c t·ªânh th√†nh kh√°c. Ch√∫ng t√¥i s·∫Ω th√¥ng b√°o c·ª• th·ªÉ khi x√°c nh·∫≠n ƒë∆°n h√†ng.",
    isOpen: false
  },
  {
    id: 3,
    question: "C√≥ ƒë∆∞·ª£c ƒë·ªïi tr·∫£ s·∫£n ph·∫©m kh√¥ng?",
    answer: "Ch√∫ng t√¥i h·ªó tr·ª£ ƒë·ªïi tr·∫£ trong v√≤ng 7 ng√†y v·ªõi ƒëi·ªÅu ki·ªán s·∫£n ph·∫©m c√≤n nguy√™n v·∫πn, ch∆∞a qua s·ª≠ d·ª•ng v√† c√≥ ƒë·∫ßy ƒë·ªß ph·ª• ki·ªán.",
    isOpen: false
  },
  {
    id: 4,
    question: "L√†m th·∫ø n√†o ƒë·ªÉ ki·ªÉm tra b·∫£o h√†nh?",
    answer: "B·∫°n c√≥ th·ªÉ ki·ªÉm tra th√¥ng tin b·∫£o h√†nh b·∫±ng c√°ch nh·∫≠p m√£ s·∫£n ph·∫©m ho·∫∑c s·ªë ƒëi·ªán tho·∫°i ƒë√£ ƒëƒÉng k√Ω t·∫°i m·ª•c 'Ki·ªÉm tra b·∫£o h√†nh'.",
    isOpen: false
  },
  {
    id: 5,
    question: "C√°c ph∆∞∆°ng th·ª©c thanh to√°n ƒë∆∞·ª£c h·ªó tr·ª£?",
    answer: "Ch√∫ng t√¥i h·ªó tr·ª£ thanh to√°n qua: Th·∫ª t√≠n d·ª•ng/ghi n·ª£, Chuy·ªÉn kho·∫£n ng√¢n h√†ng, V√≠ ƒëi·ªán t·ª≠ (MoMo, ZaloPay), Thanh to√°n khi nh·∫≠n h√†ng (COD).",
    isOpen: false
  }
]);

const toggleFaq = (id) => {
  const faq = faqs.value.find(f => f.id === id);
  if (faq) {
    faq.isOpen = !faq.isOpen;
  }
};

const submitContactForm = () => {
  // X·ª≠ l√Ω g·ª≠i form li√™n h·ªá
  console.log('Contact form submitted:', contactForm.value);
  alert('C·∫£m ∆°n b·∫°n ƒë√£ li√™n h·ªá! Ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi trong 24h.');
  contactForm.value = {
    name: '',
    email: '',
    phone: '',
    subject: '',
    message: ''
  };
  showContactForm.value = false;
};
</script>

<template>
  <div class="min-h-screen bg-gray-50">
    <Header />
    
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Page Header -->
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">üí¨ H·ªó tr·ª£ kh√°ch h√†ng</h1>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          Ch√∫ng t√¥i lu√¥n s·∫µn s√†ng h·ªó tr·ª£ b·∫°n 24/7. T√¨m c√¢u tr·∫£ l·ªùi nhanh ch√≥ng ho·∫∑c li√™n h·ªá tr·ª±c ti·∫øp v·ªõi ch√∫ng t√¥i.
        </p>
      </div>

      <!-- Quick Contact -->
      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-12">
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 text-center">
          <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-white text-xl">üìû</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Hotline</h3>
          <p class="text-blue-600 font-medium mb-2">1900 1234</p>
          <p class="text-sm text-gray-600">H·ªó tr·ª£ 24/7</p>
        </div>

        <div class="bg-green-50 border border-green-200 rounded-xl p-6 text-center">
          <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-white text-xl">üí¨</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Live Chat</h3>
          <button class="text-green-600 font-medium mb-2 hover:underline">B·∫Øt ƒë·∫ßu chat</button>
          <p class="text-sm text-gray-600">Ph·∫£n h·ªìi ngay l·∫≠p t·ª©c</p>
        </div>

        <div class="bg-purple-50 border border-purple-200 rounded-xl p-6 text-center">
          <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
            <span class="text-white text-xl">‚úâÔ∏è</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Email</h3>
          <p class="text-purple-600 font-medium mb-2">support@electroshop.com</p>
          <p class="text-sm text-gray-600">Ph·∫£n h·ªìi trong 2h</p>
        </div>
      </div>

      <!-- Tab Navigation -->
      <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8">
        <div class="border-b border-gray-200">
          <nav class="flex">
            <button
              @click="selectedTab = 'faq'"
              :class="[
                'flex-1 py-4 px-6 text-center font-medium transition-colors',
                selectedTab === 'faq' 
                  ? 'bg-blue-500 text-white' 
                  : 'text-gray-600 hover:text-blue-600'
              ]"
            >
              ‚ùì C√¢u h·ªèi th∆∞·ªùng g·∫∑p
            </button>
            <button
              @click="selectedTab = 'warranty'"
              :class="[
                'flex-1 py-4 px-6 text-center font-medium transition-colors',
                selectedTab === 'warranty' 
                  ? 'bg-blue-500 text-white' 
                  : 'text-gray-600 hover:text-blue-600'
              ]"
            >
              üõ°Ô∏è Ch√≠nh s√°ch b·∫£o h√†nh
            </button>
            <button
              @click="selectedTab = 'return'"
              :class="[
                'flex-1 py-4 px-6 text-center font-medium transition-colors',
                selectedTab === 'return' 
                  ? 'bg-blue-500 text-white' 
                  : 'text-gray-600 hover:text-blue-600'
              ]"
            >
              üîÑ ƒê·ªïi tr·∫£
            </button>
          </nav>
        </div>

        <!-- FAQ Content -->
        <div v-if="selectedTab === 'faq'" class="p-6">
          <div class="space-y-4">
            <div v-for="faq in faqs" :key="faq.id" class="border border-gray-200 rounded-lg">
              <button
                @click="toggleFaq(faq.id)"
                class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center justify-between"
              >
                <span class="font-medium text-gray-900">{{ faq.question }}</span>
                <span class="text-gray-500 transition-transform" :class="{ 'rotate-180': faq.isOpen }">
                  ‚ñº
                </span>
              </button>
              <div v-if="faq.isOpen" class="p-4 pt-0 text-gray-600 border-t border-gray-100">
                {{ faq.answer }}
              </div>
            </div>
          </div>
        </div>

        <!-- Warranty Content -->
        <div v-if="selectedTab === 'warranty'" class="p-6">
          <h3 class="text-xl font-semibold mb-4">üõ°Ô∏è Ch√≠nh s√°ch b·∫£o h√†nh</h3>
          <div class="space-y-4 text-gray-600">
            <div class="bg-blue-50 p-4 rounded-lg">
              <h4 class="font-semibold text-blue-900 mb-2">Th·ªùi gian b·∫£o h√†nh:</h4>
              <ul class="list-disc list-inside space-y-1">
                <li>ƒêi·ªán tho·∫°i: 12 th√°ng</li>
                <li>Laptop: 12-24 th√°ng</li>
                <li>Ph·ª• ki·ªán: 6-12 th√°ng</li>
                <li>Tai nghe: 6 th√°ng</li>
              </ul>
            </div>
            <div class="bg-green-50 p-4 rounded-lg">
              <h4 class="font-semibold text-green-900 mb-2">ƒêi·ªÅu ki·ªán b·∫£o h√†nh:</h4>
              <ul class="list-disc list-inside space-y-1">
                <li>S·∫£n ph·∫©m c√≤n trong th·ªùi h·∫°n b·∫£o h√†nh</li>
                <li>C√≥ h√≥a ƒë∆°n mua h√†ng ho·∫∑c phi·∫øu b·∫£o h√†nh</li>
                <li>L·ªói do nh√† s·∫£n xu·∫•t</li>
                <li>Kh√¥ng b·ªã r∆°i v·ª°, ng·∫•m n∆∞·ªõc</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Return Policy Content -->
        <div v-if="selectedTab === 'return'" class="p-6">
          <h3 class="text-xl font-semibold mb-4">üîÑ Ch√≠nh s√°ch ƒë·ªïi tr·∫£</h3>
          <div class="space-y-4 text-gray-600">
            <div class="bg-yellow-50 p-4 rounded-lg">
              <h4 class="font-semibold text-yellow-900 mb-2">Th·ªùi gian ƒë·ªïi tr·∫£:</h4>
              <p>Trong v√≤ng 7 ng√†y k·ªÉ t·ª´ ng√†y nh·∫≠n h√†ng</p>
            </div>
            <div class="bg-red-50 p-4 rounded-lg">
              <h4 class="font-semibold text-red-900 mb-2">ƒêi·ªÅu ki·ªán ƒë·ªïi tr·∫£:</h4>
              <ul class="list-disc list-inside space-y-1">
                <li>S·∫£n ph·∫©m c√≤n nguy√™n v·∫πn, ch∆∞a qua s·ª≠ d·ª•ng</li>
                <li>C√≤n ƒë·∫ßy ƒë·ªß h·ªôp, ph·ª• ki·ªán, t√†i li·ªáu</li>
                <li>C√≥ h√≥a ƒë∆°n mua h√†ng</li>
                <li>Kh√¥ng √°p d·ª•ng v·ªõi s·∫£n ph·∫©m khuy·∫øn m√£i ƒë·∫∑c bi·ªát</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Form Button -->
      <div class="text-center mb-8">
        <button
          @click="showContactForm = !showContactForm"
          class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors"
        >
          {{ showContactForm ? 'üîº ·∫®n form li√™n h·ªá' : 'üìù G·ª≠i y√™u c·∫ßu h·ªó tr·ª£' }}
        </button>
      </div>

      <!-- Contact Form -->
      <div v-if="showContactForm" class="bg-white rounded-xl shadow-md p-6">
        <h3 class="text-xl font-semibold mb-6">üìù G·ª≠i y√™u c·∫ßu h·ªó tr·ª£</h3>
        <form @submit.prevent="submitContactForm" class="space-y-4">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">H·ªç t√™n *</label>
              <input
                v-model="contactForm.name"
                type="text"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n"
              >
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
              <input
                v-model="contactForm.email"
                type="email"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Nh·∫≠p email c·ªßa b·∫°n"
              >
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">S·ªë ƒëi·ªán tho·∫°i</label>
              <input
                v-model="contactForm.phone"
                type="tel"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i"
              >
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Ch·ªß ƒë·ªÅ *</label>
              <select
                v-model="contactForm.subject"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Ch·ªçn ch·ªß ƒë·ªÅ</option>
                <option value="order">V·∫•n ƒë·ªÅ ƒë·∫∑t h√†ng</option>
                <option value="payment">Thanh to√°n</option>
                <option value="shipping">Giao h√†ng</option>
                <option value="warranty">B·∫£o h√†nh</option>
                <option value="return">ƒê·ªïi tr·∫£</option>
                <option value="other">Kh√°c</option>
              </select>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">N·ªôi dung *</label>
            <textarea
              v-model="contactForm.message"
              required
              rows="4"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="M√¥ t·∫£ chi ti·∫øt v·∫•n ƒë·ªÅ c·ªßa b·∫°n..."
            ></textarea>
          </div>

          <div class="flex gap-4">
            <button
              type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors"
            >
              üöÄ G·ª≠i y√™u c·∫ßu
            </button>
            <button
              type="button"
              @click="showContactForm = false"
              class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition-colors"
            >
              H·ªßy
            </button>
          </div>
        </form>
      </div>
    </main>

    <Footer />
  </div>
</template>

<style scoped>
.rotate-180 {
  transform: rotate(180deg);
}
</style>
